<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenJPEG: opj_includes.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>opj_includes.h</h1><a href="opj__includes_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment"> * Copyright (c) 2005, Herve Drolon, FreeImage Team</span>
00003 <span class="comment"> * Copyright (c) 2008;2011-2012, Centre National d'Etudes Spatiales (CNES), France </span>
00004 <span class="comment"> * Copyright (c) 2012, CS Systemes d'Information, France</span>
00005 <span class="comment"> * All rights reserved.</span>
00006 <span class="comment"> *</span>
00007 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
00008 <span class="comment"> * modification, are permitted provided that the following conditions</span>
00009 <span class="comment"> * are met:</span>
00010 <span class="comment"> * 1. Redistributions of source code must retain the above copyright</span>
00011 <span class="comment"> *    notice, this list of conditions and the following disclaimer.</span>
00012 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span>
00013 <span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span>
00014 <span class="comment"> *    documentation and/or other materials provided with the distribution.</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS `AS IS'</span>
00017 <span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
00018 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
00019 <span class="comment"> * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span>
00020 <span class="comment"> * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span>
00021 <span class="comment"> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span>
00022 <span class="comment"> * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span>
00023 <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span>
00024 <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span>
00025 <span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
00026 <span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span>
00027 <span class="comment"> */</span>
00028 <span class="preprocessor">#ifndef OPJ_INCLUDES_H</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#define OPJ_INCLUDES_H</span>
00030 <span class="preprocessor"></span>
00031 <span class="comment">/*</span>
00032 <span class="comment"> * This must be included before any system headers,</span>
00033 <span class="comment"> * since they can react to macro defined there</span>
00034 <span class="comment"> */</span>
00035 <span class="preprocessor">#include "<a class="code" href="opj__config_8h.html">opj_config.h</a>"</span>
00036 
00037 <span class="comment">/*</span>
00038 <span class="comment"> ==========================================================</span>
00039 <span class="comment">   Standard includes used by the library</span>
00040 <span class="comment"> ==========================================================</span>
00041 <span class="comment">*/</span>
00042 <span class="preprocessor">#include &lt;memory.h&gt;</span>
00043 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00044 <span class="preprocessor">#include &lt;string.h&gt;</span>
00045 <span class="preprocessor">#include &lt;math.h&gt;</span>
00046 <span class="preprocessor">#include &lt;float.h&gt;</span>
00047 <span class="preprocessor">#include &lt;time.h&gt;</span>
00048 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00049 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00050 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
00051 <span class="preprocessor">#include &lt;assert.h&gt;</span>
00052 
00053 <span class="comment">/*</span>
00054 <span class="comment">  Use fseeko() and ftello() if they are available since they use</span>
00055 <span class="comment">  'off_t' rather than 'long'.  It is wrong to use fseeko() and</span>
00056 <span class="comment">  ftello() only on systems with special LFS support since some systems</span>
00057 <span class="comment">  (e.g. FreeBSD) support a 64-bit off_t by default.</span>
00058 <span class="comment">*/</span>
00059 <span class="preprocessor">#if defined(HAVE_FSEEKO)</span>
<a name="l00060"></a><a class="code" href="opj__includes_8h.html#a0">00060</a> <span class="preprocessor"></span><span class="preprocessor">#  define fseek  fseeko</span>
<a name="l00061"></a><a class="code" href="opj__includes_8h.html#a1">00061</a> <span class="preprocessor"></span><span class="preprocessor">#  define ftell  ftello</span>
00062 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00063 <span class="preprocessor"></span>
00064 
00065 <span class="preprocessor">#if defined(WIN32) &amp;&amp; !defined(Windows95) &amp;&amp; !defined(__BORLANDC__) &amp;&amp; \</span>
00066 <span class="preprocessor">  !(defined(_MSC_VER) &amp;&amp; _MSC_VER &lt; 1400) &amp;&amp; \</span>
00067 <span class="preprocessor">  !(defined(__MINGW32__) &amp;&amp; __MSVCRT_VERSION__ &lt; 0x800)</span>
00068 <span class="preprocessor"></span>  <span class="comment">/*</span>
00069 <span class="comment">    Windows '95 and Borland C do not support _lseeki64</span>
00070 <span class="comment">    Visual Studio does not support _fseeki64 and _ftelli64 until the 2005 release.</span>
00071 <span class="comment">    Without these interfaces, files over 2GB in size are not supported for Windows.</span>
00072 <span class="comment">  */</span>
00073 <span class="preprocessor">#  define OPJ_FSEEK(stream,offset,whence) _fseeki64(stream,</span><span class="comment">/* __int64 */</span> offset,whence)
00074 <span class="preprocessor">#  define OPJ_FSTAT(fildes,stat_buff) _fstati64(fildes,</span><span class="comment">/* struct _stati64 */</span> stat_buff)
00075 <span class="preprocessor">#  define OPJ_FTELL(stream) </span><span class="comment">/* __int64 */</span> _ftelli64(stream)
00076 <span class="preprocessor">#  define OPJ_STAT_STRUCT_T struct _stati64</span>
00077 <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_STAT(path,stat_buff) _stati64(path,</span><span class="comment">/* struct _stati64 */</span> stat_buff)
00078 <span class="preprocessor">#else</span>
<a name="l00079"></a><a class="code" href="opj__includes_8h.html#a2">00079</a> <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_FSEEK(stream,offset,whence) fseek(stream,offset,whence)</span>
<a name="l00080"></a><a class="code" href="opj__includes_8h.html#a3">00080</a> <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_FSTAT(fildes,stat_buff) fstat(fildes,stat_buff)</span>
<a name="l00081"></a><a class="code" href="opj__includes_8h.html#a4">00081</a> <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_FTELL(stream) ftell(stream)</span>
<a name="l00082"></a><a class="code" href="opj__includes_8h.html#a5">00082</a> <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_STAT_STRUCT_T struct stat</span>
<a name="l00083"></a><a class="code" href="opj__includes_8h.html#a6">00083</a> <span class="preprocessor"></span><span class="preprocessor">#  define OPJ_STAT(path,stat_buff) stat(path,stat_buff)</span>
00084 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00085 <span class="preprocessor"></span>
00086 
00087 <span class="comment">/*</span>
00088 <span class="comment"> ==========================================================</span>
00089 <span class="comment">   OpenJPEG interface</span>
00090 <span class="comment"> ==========================================================</span>
00091 <span class="comment"> */</span>
00092 <span class="preprocessor">#include "<a class="code" href="openjpeg_8h.html">openjpeg.h</a>"</span>
00093 
00094 <span class="comment">/*</span>
00095 <span class="comment"> ==========================================================</span>
00096 <span class="comment">   OpenJPEG modules</span>
00097 <span class="comment"> ==========================================================</span>
00098 <span class="comment">*/</span>
00099 
00100 <span class="comment">/* Ignore GCC attributes if this is not GCC */</span>
00101 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00102"></a><a class="code" href="opj__includes_8h.html#a7">00102</a> <span class="preprocessor"></span><span class="preprocessor">        #define __attribute__(x) </span><span class="comment">/* __attribute__(x) */</span>
00103 <span class="preprocessor">#endif</span>
00104 <span class="preprocessor"></span>
00105 <span class="comment">/*</span>
00106 <span class="comment">The inline keyword is supported by C99 but not by C90. </span>
00107 <span class="comment">Most compilers implement their own version of this keyword ... </span>
00108 <span class="comment">*/</span>
00109 <span class="preprocessor">#ifndef INLINE</span>
00110 <span class="preprocessor"></span><span class="preprocessor">        #if defined(_MSC_VER)</span>
00111 <span class="preprocessor"></span><span class="preprocessor">                #define INLINE __forceinline</span>
00112 <span class="preprocessor"></span><span class="preprocessor">        #elif defined(__GNUC__)</span>
00113 <span class="preprocessor"></span><span class="preprocessor">                #define INLINE __inline__</span>
00114 <span class="preprocessor"></span><span class="preprocessor">        #elif defined(__MWERKS__)</span>
00115 <span class="preprocessor"></span><span class="preprocessor">                #define INLINE inline</span>
00116 <span class="preprocessor"></span><span class="preprocessor">        #else </span>
00117 <span class="preprocessor"></span>                <span class="comment">/* add other compilers here ... */</span>
<a name="l00118"></a><a class="code" href="opj__includes_8h.html#a8">00118</a> <span class="preprocessor">                #define INLINE </span>
00119 <span class="preprocessor"></span><span class="preprocessor">        #endif </span><span class="comment">/* defined(&lt;Compiler&gt;) */</span>
00120 <span class="preprocessor">#endif </span><span class="comment">/* INLINE */</span>
00121 
00122 <span class="comment">/* Are restricted pointers available? (C99) */</span>
00123 <span class="preprocessor">#if (__STDC_VERSION__ != 199901L)</span>
00124 <span class="preprocessor"></span>        <span class="comment">/* Not a C99 compiler */</span>
00125 <span class="preprocessor">        #ifdef __GNUC__</span>
00126 <span class="preprocessor"></span><span class="preprocessor">                #define restrict __restrict__</span>
00127 <span class="preprocessor"></span><span class="preprocessor">        #else</span>
<a name="l00128"></a><a class="code" href="opj__includes_8h.html#a9">00128</a> <span class="preprocessor"></span><span class="preprocessor">                #define restrict </span><span class="comment">/* restrict */</span>
00129 <span class="preprocessor">        #endif</span>
00130 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00131 <span class="preprocessor"></span>
00132 <span class="comment">/* MSVC and Borland C do not have lrintf */</span>
00133 <span class="preprocessor">#if defined(_MSC_VER) || defined(__BORLANDC__)</span>
00134 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="opj__includes_8h.html#a8">INLINE</a> <span class="keywordtype">long</span> lrintf(<span class="keywordtype">float</span> f){
00135 <span class="preprocessor">#ifdef _M_X64</span>
00136 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (<span class="keywordtype">long</span>)((f&gt;0.0f) ? (f + 0.5f):(f -0.5f));
00137 <span class="preprocessor">#else</span>
00138 <span class="preprocessor"></span>    <span class="keywordtype">int</span> i;
00139  
00140     _asm{
00141         fld f
00142         fistp i
00143     };
00144  
00145     <span class="keywordflow">return</span> i;
00146 <span class="preprocessor">#endif</span>
00147 <span class="preprocessor"></span>}
00148 <span class="preprocessor">#endif</span>
00149 <span class="preprocessor"></span>
00150 <span class="preprocessor">#include "<a class="code" href="opj__inttypes_8h.html">opj_inttypes.h</a>"</span>
00151 <span class="preprocessor">#include "<a class="code" href="opj__clock_8h.html">opj_clock.h</a>"</span>
00152 <span class="preprocessor">#include "<a class="code" href="opj__malloc_8h.html">opj_malloc.h</a>"</span>
00153 <span class="preprocessor">#include "<a class="code" href="function__list_8h.html">function_list.h</a>"</span>
00154 <span class="preprocessor">#include "<a class="code" href="event_8h.html">event.h</a>"</span>
00155 <span class="preprocessor">#include "<a class="code" href="bio_8h.html">bio.h</a>"</span>
00156 <span class="preprocessor">#include "<a class="code" href="cio_8h.html">cio.h</a>"</span>
00157 
00158 <span class="preprocessor">#include "<a class="code" href="image_8h.html">image.h</a>"</span>
00159 <span class="preprocessor">#include "<a class="code" href="invert_8h.html">invert.h</a>"</span>
00160 <span class="preprocessor">#include "<a class="code" href="j2k_8h.html">j2k.h</a>"</span>
00161 <span class="preprocessor">#include "<a class="code" href="jp2_8h.html">jp2.h</a>"</span>
00162 
00163 <span class="preprocessor">#include "<a class="code" href="mqc_8h.html">mqc.h</a>"</span>
00164 <span class="preprocessor">#include "<a class="code" href="raw_8h.html">raw.h</a>"</span>
00165 <span class="preprocessor">#include "<a class="code" href="bio_8h.html">bio.h</a>"</span>
00166 
00167 <span class="preprocessor">#include "<a class="code" href="pi_8h.html">pi.h</a>"</span>
00168 <span class="preprocessor">#include "<a class="code" href="tgt_8h.html">tgt.h</a>"</span>
00169 <span class="preprocessor">#include "<a class="code" href="tcd_8h.html">tcd.h</a>"</span>
00170 <span class="preprocessor">#include "<a class="code" href="t1_8h.html">t1.h</a>"</span>
00171 <span class="preprocessor">#include "<a class="code" href="dwt_8h.html">dwt.h</a>"</span>
00172 <span class="preprocessor">#include "<a class="code" href="t2_8h.html">t2.h</a>"</span>
00173 <span class="preprocessor">#include "<a class="code" href="mct_8h.html">mct.h</a>"</span>
00174 <span class="preprocessor">#include "<a class="code" href="opj__intmath_8h.html">opj_intmath.h</a>"</span>
00175 
00176 <span class="preprocessor">#ifdef USE_JPIP</span>
00177 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="cidx__manager_8h.html">cidx_manager.h</a>"</span>
00178 <span class="preprocessor">#include "<a class="code" href="indexbox__manager_8h.html">indexbox_manager.h</a>"</span>
00179 <span class="preprocessor">#endif</span>
00180 <span class="preprocessor"></span>
00181 <span class="comment">/* JPWL&gt;&gt; */</span>
00182 <span class="preprocessor">#ifdef USE_JPWL</span>
00183 <span class="preprocessor"></span><span class="preprocessor">#include "openjpwl/jpwl.h"</span>
00184 <span class="preprocessor">#endif </span><span class="comment">/* USE_JPWL */</span>
00185 <span class="comment">/* &lt;&lt;JPWL */</span>
00186 
00187 <span class="comment">/* V2 */</span>
00188 
00189 
00190 <span class="preprocessor">#endif </span><span class="comment">/* OPJ_INCLUDES_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Dec 23 13:33:19 2012 for OpenJPEG by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
